# 防火墙
untrust：5
DMZ：50
trust：85
local：100
# 状态检测机制
单选题 81/1247、在状态检测防火墙中，开启状态检测机制时，三次握手的第二个报文(SYN+ACK)到达防火墙的时候如果防火墙上还没有对应的会话表，则下面说法正确的是：
如果防火墙安全策略允许报文通过，则创建会话表
**缺省状态下关闭状态功能后，并配置了允许策略即可通过**
报文一定通过防火墙，并建立会话表
如果防火墙安全策略充许报文通过则报文可以通过防火墙
![image-20247145755125.png|400](8%E5%88%B7%E9%A2%98%E7%9A%84/HCIP-821/%E9%98%B2%E7%81%AB%E5%A2%99UPF/image-20247145755125.png)
# 防火墙检测
单选题280/1247、下列关于不同类型的防火墙的说法，错误的是
包过滤防火墙对于通过防火墙的每个数据包，都要进行ACL匹配检查
状态检测防火墙只对没有命中会话的首包进行安全策略检查
**状态检测测防火墙需要配置报文的“去”和“回”两个方向的安全策略**
代理防火墙代理内部和外部网络用户之间的业务
<u>状态检测防火墙只需要配置报文的“去”或“回”单方向通过的安全策略。</u>


# USG防火墙缺省安全优先级 
单选题
104/1247、USG防火墙中新建安全区域时，缺省的安全优先级是以下哪一项？
安全优先级是5
安全优先级是50
安全优先级是100
**新建安全区域时，如果不设置安全优先级，则安全优先级为空**
安全优先级是85
安全优先级是0

单选题 461/1247、以下关于配置防火墙安全优先级的描述，**错误**的是哪一项？
不新建与默认安全区域同名的安全区域
同一系统中，两个安全区域不充许配置相同的安全优先级
只能为自定义的安全区域设定安全优先级
**新建的安全区域，系统默认其安全优先级为1**
<u>新建安全区域时，如果不设置安全优先级，则安全优先级为空</u>
# 防火墙匹配
单选题
105/1247、以下关于状态检测防火墙的描述，正确是哪一项？

状态检测型防火墙对报文进行检查时，同一连接的前后报文不具有相关性
状态检测防火墙需要对每个进入防火墙的数据包进行规则匹配
**状态检测型防火墙只需要对该连接的第一个数据包进行访问规的匹配，该连接的后续报文直接在状态表中进行匹配**
因为UDP协议为面向无连接的协议，因此状态检测型防火墙无法对UDP报文进行状态表的匹配
<u>解析：状态检测防火墙对报文进行检查时，同一连接的前后报文具有相关性；  状态检测防火墙不需要对每一个进入防火墙的数据包进行规则匹配，只需要第一个数据包进行访问规则的匹配，该连接的后续报文直接在状态表中进行匹配；</u>


# 依据session转发
单选题171/1247、状态检测防火墙在对后续数据包 （非首包）进行转发时，主要依据以下哪一项？
Route表
FIB表
MAC地址表
**Session表**
# 删除区域
单选题256/1247、在USG系列防火墙，以下哪个安全区域可以被管理员删除
**Security区域**
Trust区域
Untrust 区域
DMZ区域
local、trust、dmz、untrust这四个是系统自带不能删除。
# 防火墙转换nat
单选题262/1247、以下关于防火墙的描述，说法错误的是哪一选项？
防火墙能够实现用户身份认证。
防火墙可以隔离不同安全级别的网络。
防火墙能够实现不同网络之间的访问控制，
**防火墙不能实现网络地址转换。**
# 安全区域
单选题1270/1247、对于防火墙安全区域的描述下列说法**正确**的是
防火墙的不同安全区域优先级可以相同
防火墙的同一个接口可以分属于不同的安全区域
**防火墙的不同接口可以属于同一安全区域**
防火墙的自带安全区域可以被删除

单选题467/1247、以下关于USG系列的安全防火墙的默认安全区域的描述，正确的是哪一项？
默认安全区域可以删除
默认安全区域可以修改安全级别
**默认安全区域有4个**
默认安全区域不能删除，但可以修改安全级别
<u>Trust、Untrust、DMZ、Local</u>
# 路由器不能代替防火墙
单选题 301/1247、以下关于防火墙的描述，错误的是哪一项？
**因为路由器也能够使用ACL所以路由器可以代替包过滤防火墙**
防火墙具有SPU模块，用于实现防火墙的安全功能
三层防火墙和路由器一样，数据包都需要通过路由表将数据转发
传统的包过滤防火墙难以适应动态的安全要求
<u>防火墙还有很多功能模块是路由器所不具备的，并不是只有ACL这个功能</u>

# 防火墙独有模块
单选528/1247、相比较于路由器和交换机，防火墙独有以下哪一模块？
交换网板
MPU
LPU
**SPU**
<u>防火墙特有SPU（Service Processing Unit），用于实现防火墙的安全功能</u>
# 策略不允许指定
策略路由**不允许**指定哪种数据包转发的路径？
源地址
目的地址
**源MAC**
报文长度
<u>解析：if-match 策略路由，只能根据数据包的3层头部信息来转发数据包，不能依据2层头部信息。所以正确答案是“源 MAC”D选项报文长度是支持的，如下PBR配置里可以匹配报文长度</u>
![0668d3a9d1a466cc9053d5d684ae0025..png](8刷题的/HCIP-821/FW_ACL/0668d3a9d1a466cc9053d5d684ae0025..png)

# 匹配奇偶数
![image-2024720302787.png|400](8%E5%88%B7%E9%A2%98%E7%9A%84/HCIP-821/%E9%98%B2%E7%81%AB%E5%A2%99%E5%92%8C%E7%AD%96%E7%95%A5FW_ACL/image-2024720302787.png)
![image-20247203116308.png|400](8%E5%88%B7%E9%A2%98%E7%9A%84/HCIP-821/%E9%98%B2%E7%81%AB%E5%A2%99%E5%92%8C%E7%AD%96%E7%95%A5FW_ACL/image-20247203116308.png)

# 防火墙过滤
![image-2024720394596.png|400](8%E5%88%B7%E9%A2%98%E7%9A%84/HCIP-821/%E9%98%B2%E7%81%AB%E5%A2%99%E5%92%8C%E7%AD%96%E7%95%A5FW_ACL/image-2024720394596.png)
1
2
**`3`**
4
<u>根据TCP有序交互原则，Trust区域收到UnTrust区域的②报文，Seq=9955，因此Trust会回复Seq=9956的报文，因此会过滤掉③，允许④通过</u>
- **SYN**：用于同步序列号，建立连接时使用。
- **SEQ**：用于标识数据段在数据流中的位置，保证数据的有序传
- **ACK**：用于确认收到的数据段。
# acl配置
![image-20247203951776.png|425](8%E5%88%B7%E9%A2%98%E7%9A%84/HCIP-821/%E9%98%B2%E7%81%AB%E5%A2%99%E5%92%8C%E7%AD%96%E7%95%A5FW_ACL/image-20247203951776.png)
从192.168.1.0/24网段通过Telnet访问10.167.12.0/24网段里所有主机是被充许的
从192.168.1.0/24网段通过SSH访问10.167.12.1地址的主机是被拒绝的
**该设备中从192.168.1.0/24网段前往主机地址10.167.12.1以外的流量，都是不被充许通过的**
从192.168.1.0/24网段通过远程桌面访向10.167.12.0/24网段里所有主机是被充许的

# acl配置
![image-20247205529743.png](8%E5%88%B7%E9%A2%98%E7%9A%84/HCIP-821/%E9%98%B2%E7%81%AB%E5%A2%99%E5%92%8C%E7%AD%96%E7%95%A5FW_ACL/image-20247205529743.png)
源地址为1.1.1.3的数据包匹配第三条ACL语句rule2，匹配规则为拒绝
源地证为1.1.1.4的数据包匹配第四条ACL语句rule3，匹配规则为允许
**源地址为1.1.1.1的数据包匹配第一条ACL语句rule0，匹配规则为允许**
源地址为1.1.1.2的数据包匹配第二条ACL语句rue1，匹配规则为允许
<u>源地址为1.1.1.2、1.1.1.3、1.1.1.4都匹配rule2，规则为允许，源地址为1.1.1.1匹配rule0，规则为允许。注意：rule1是全0的通配符，只能精确匹配到1.1.1.0这条信息，因此选项的四个地址都不会被rule1匹配。
</u>

# 判断-----------------------------------------------

![image-20247221445607.png|325](8%E5%88%B7%E9%A2%98%E7%9A%84/HCIP-821/%E9%98%B2%E7%81%AB%E5%A2%99%E5%92%8C%E7%AD%96%E7%95%A5FW_ACL/image-20247221445607.png)
**错误**
<u>TCP的三次握手中，第一次握手的Flags=SYN置位、第二次握手的Flags=SYN置位，ACK置位、第三次握手的Flags=SYN置位</u>
![image-20247221638394.png|275](8%E5%88%B7%E9%A2%98%E7%9A%84/HCIP-821/%E9%98%B2%E7%81%AB%E5%A2%99%E5%92%8C%E7%AD%96%E7%95%A5FW_ACL/image-20247221638394.png)
**错误**
<u>不符合，3次握手第3次的ACK=b+1即ACK=201，但题中的ACK=202所以错误，状态检防火墙不会转发该报文。</u>

判断题 922/1247、状态检测防火墙使用会话表来追踪激活的TCP会话和UDP会话，并且由防火墙安全策略决定建立哪些会话，而且数据包只有与会话相关联时才会被转发
**正确**
状态检测防火墙用安全策略决定建立会话，与会话关联才会转发，所以题目中的描述是正确的。

判断题938/1247、将防火墙的一个接口划分到Untrust安全域之后，该接口就属于Untrust区域，不再属于Local区域
**错误**
<u>防火墙上所有接口本身都隐含属于Local，把墙上的端口划分给untrust，它同时也属于local</u>

在防火墙上Ping防火墙某接口IP地址时，这些报文将交给防火墙内部模块进行处理，并不被转发出去
**正确**
<u>在防火墙上Ping自身某接口IP地址时，这些报文将交给防火墙内部模块进行处理，并不被转发出去。所以题目中的描述是正确的，所以题目中的描述是正确的。</u>

在USG系列防火墙的Trust区域视图下，配置add interface GigabiteEthernetO/0/1后，则不再属于Local区域
**错误**
<u>Local区域指的是设备自身 ，物理接口不管加不加入其他区域都是属于此区域的。所以题目中的描述是错误的。</u>

判断题1035/1247、ACL的匹配结果包括“匹配（允许）““匹配（拒绝）”和“不匹配”三种。
**错误**
<u>ACL匹配结果只有两种：匹配，不匹配。其中匹配包含permit、deny两种结果</u>

判断题1038/1247、如果防火墙的两个接口被划分到同一个区域，那么两个接口间的数据包流动无须经过包过滤处理，直接转发。
**错误**
<u>防火墙上的不同接口之间传递数据时也要经过包过滤处理的过程</u>

判断题1082/1247、USG防火墙上存在多个默认安全区域，其中Untrust区域和Local区域不能被管理员删除，Trust区域和DMZ区域可
以被删除。
**错误**
<u>华为防火墙自带4个安全区域，UNtrust，Trust，DMZ，Local，4个默认区域都不能被删除，如果需要新的安全等级的区域，可以自行创建安全区域（最多16个，包含默认的4个安全区域）</u>