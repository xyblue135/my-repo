# NDP
NDP（Neighbor Discovery Protocol，邻居发现协议）是IPv6网络中使用的一种协议，用于在同一链路上的设备之间发现邻居设备、确定链路层地址、检测地址重复、以及进行无状态自动配置。NDP 是 IPv6 中不可或缺的一部分，类似于 IPv4 中的 ARP（Address Resolution Protocol），但功能更强大和全面。
# ipv6没有广播
单选题
299/1247、IPV6的地址类型**不包括**以下哪一项？
组播IPv6地址
任播IPv6地址
单播IPv6地址
**广播IPv6地址**
<u>IPV6地址没有广播地址，用组播替代了</u>

# 收到Decline报文不会回复replay
单选题497/1247、DHCPV6服务器在收到以下哪一个报文时，不会回复Reply报文？
Renew
Release
Rebind
**Decline**
![986994cfbf0ea0e791c59cfe0e155dfa.png|225](8%E5%88%B7%E9%A2%98%E7%9A%84/HCIP-821/ipv6NDP/986994cfbf0ea0e791c59cfe0e155dfa.png)

# ipv6维护表
单选题300/1247、IPV6节点需要维护一张邻居表，每个邻居都存在相应的状态。那么以下关于邻居状态的描述，正确的是哪一项？
当邻居状态为State时，会再次向邻居发送NS报文，如果收到了回应，则该邻层状态迁移至lmcomplete
当邻居状态为 Reachablel时，表示邻居在规定时间内可达，但如果超过固定时间，该表象没有被使用，则该邻居状态迁
移至lmcomplete
当邻居状态为lmcomplete时，代表邻居不可达，正在进行地址解析，当解析成功时，则进入Complete状态
**当邻居状态为Delay时，如果在固定时间内有收到邻居的回应，则其邻居状态会直接迁移到Reachable**
<u>邻居状态由delay变为Probe时，期间若有NA应答，则邻居状态由Delay变为Reachable。</u>
# NDP主要功能
单选题
137/1247、以下哪个**不是**NDP的主要功能？
**路径MTU发现**
邻居状态跟踪
重复地址检测
地址自动配置
<u>NDP能够实现路由器发现、前缀发现、参数发现、地址自动配置、地址解析（代替ARP和RARP）、下一跳肯定、邻居不可达检测、重复地址检测、重定向等更多功能。</u>

单选题82/1247、下列描述中关于NDP的地址功能**错误**的是？
地址过程中使用了邻居请求和邻居通告两种ICMPv6报文
地址实现了从IPv6地址到链路层地址的功能
发送邻居请求报文时，目的地址一定为邻居的被请求节点组播地址
**发送邻居请求报文时，源地址一定为本端接口的链路本地地址**
<u>在IPv6中发送NDP协议的NS报文时，报文的源IP地址是设备接口的IPv6地址，不一定是接口的链路本地地址。本地地址是哪个fe开头的</u>

单选题 484/1247、以下关于NDP地址解析功能的描述，**错误**的是哪一项？
**发送邻居请求报文时，源地址一定为本端接口的链路本地地址**
发送邻居请求报文时，目的地址一定为邻居的被请求节点组播地址
地址解析过程中使用了邻居请求和邻居通告两种ICMPv6报文
地址解析实现了从IPv6地址解析到链路层地址的功能

单选题319/1247、以下功能中哪一个不是使用NDP 135/136类型的报文实现的？
重复地址检测
邻居状态跟踪
地址解析
**路由器发现**
<u>133（RS）才是用于路由器发现功能</u>
# IPV6头部
单选题58/1247、当载荷为ICMPv6报文时，若不考虑存在拓展头部，则IPv6头部中的Next Header字段的数值为多少？
68
**58**
55
78
![image-2024714621766.png|300](8%E5%88%B7%E9%A2%98%E7%9A%84/HCIP-821/%E4%BE%8B%E9%A2%98%E4%B9%8B%E5%A4%96/image-2024714621766.png)

# NDP地址重复检测
单选题1369/1247、下列描述中关于NDP的重复地址检测功能**错误**的是？
个IPv6单播地址在分配给一个接口之后且通过重复地址检测之前称为试验地址（Tentative Address）
**重复地址检测功能通过RS和RA报文实现**
接口在启用任何一个单播IPv6地址前都需要先进行重复地址检测
IPv6重复地址检测技术和IPv4中的免费ARP类似
<u>无状态自动配置机制使用ICMPv6中的路由器请求报文（RS）及路由器通告报文（RA），而不是重复地址检测（DAD）功能在使用，重复地址检测（DAD）使用NA NS 实现地址功能检测</u>

# ipv6路由协议说明
单选题 406/1247、以下关于IPv6路由协议的描述，**错误**的是哪一项？
OSPFv3本身不携带安全认证
IS-ISv6新增-种N L PID（Network Layer Protocol 1 dentifier网络层协议标识）宣告自身支持lPv6
**因为兼容性的问题，目前所有的IGP都需要重新开发新协议以支持IPv6，如OSPFv3和IS-IS for IPv6，但是BGP只需要追加IPv6的地址族即可**
OSPFV3的进程运行在链路上，和IPv4支持的OSPFv2不同，OSPFV2进程是运行在子网 上的
<u>在IPv6网络环境下，尽管大多数的IPV4的路由协议都需要重新设计，或者开发以支持IPv6，但IPv6路由协议相对IPv4只有很小的变化。目前各种常用的单播路由协议（IGP、EGP）和组播协议都已经支持IPV6。</u>

判断题951/1247、 ICMPV6有差错报文（Error Messages)和信息报文（Information Messages）两种类型
**正确**
<u>ICMPV6在TYPE类型128之前是差错报文，128之后是信息报文</u>

判断题952/1247、IPv6链路本地地址可以通过无状态自动配置生成。、
**正确**
<u>在IPv6中的每个链路都会有对应一个唯一的链路本地地址。该地址的配置方式可以是手动的，也可以是自动的。</u>

判断题990/1247、IPv6报文的基本首部长度是固定值
**正确**

判断题1109/1247、IPv6使用分段拓展报头来提高QoS对IPv6报文的处理效率。
**错误**
<u><u></u>IPv6对于QOS的支持在于基本报文的traffic-class（流分类字段）
</u>

填空题
1176/1247、已知某接口的MAC地址为OA-04-3B-45-1A-03.，那么根据IEEEEUT-64规范生成的接口ID标识为？（每个括号内填写两位数字或英文，英文字母需大写，请勿带有空格
**08-04-3B-FF-FE-45**-1A-03
<u>解析：将FFFE插入MAC地址的前24位与后24位之间，并将第7位的进行反转即可生成接口ID （假如第七位是0，则变为1，是1则变为0）</u>
原始
0000 1010 0000 0100 0011 1011 0100 0101 0001 1010 0000 0011
处理
0000 10<u>0</u>0 0000 0100 0011 1011 <u>1111 1111 1111 1110 </u> 0100 0101 0001 1010 0000 0011
结果
**08-04-3B-FF-FE-45**-1A-03