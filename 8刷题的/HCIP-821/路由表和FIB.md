FIB（Forwarding Information Base）和路由表是网络设备中两个重要但不同的概念。它们都涉及到路由信息，但它们的用途和内容有一些不同。以下是它们的主要区别：
#### FIB (Forwarding Information Base)

1. **用途**:
    
    - FIB 是由路由表生成的，用于实际的数据包转发。它包含了所有必须的转发信息，可以直接用于快速查找和转发数据包。
    - FIB 是由硬件或软件在高速缓存中维护，以实现高效的数据包转发。
2. **内容**:
    
    - FIB 包含了路由条目，每个条目都指向具体的下一跳路由器和接口。
    - 每个条目通常包括目的地址、下一跳 IP 地址、出接口、标记等。
3. **更新方式**:
    
    - 当路由表发生变化时，FIB 也会相应更新，以保持与路由表的一致性。

#### 路由表

1. **用途**:
    
    - 路由表主要用于维护和管理所有的路由信息，决定数据包应该发送到哪里。它包含了网络拓扑的完整视图。
    - 路由表用于路由选择过程，决定最佳路径。
2. **内容**:
    
    - 路由表包含所有已知的路由，包括直连路由、静态路由、动态路由协议（如 OSPF、BGP）学习到的路由等。
    - 每个条目通常包括目的地址、子网掩码、路由源、优先级、度量值、下一跳等。
3. **更新方式**:
    
    - 路由表是动态更新的，随着网络拓扑的变化（如链路故障、新路由器加入）不断更新。
    - 动态路由协议不断交换路由信息，确保路由表的实时更新。
```
display fib
Destination/Mask   Nexthop         Flag  TimeStamp     Interface      TunnelID
192.168.2.255/32   127.0.0.1       HU    t[237]        InLoop0        0x0
192.168.2.200/32   127.0.0.1       HU    t[237]        InLoop0        0x0
192.168.1.255/32   127.0.0.1       HU    t[214]        InLoop0        0x0
192.168.1.200/32   127.0.0.1       HU    t[214]        InLoop0        0x0
255.255.255.255/32 127.0.0.1       HU    t[2]          InLoop0        0x0
127.255.255.255/32 127.0.0.1       HU    t[2]          InLoop0        0x0
127.0.0.1/32       127.0.0.1       HU    t[2]          InLoop0        0x0
127.0.0.0/8        127.0.0.1       U     t[2]          InLoop0        0x0
192.168.1.0/24     192.168.1.200   U     t[214]        GE0/0/0        0x0
192.168.2.0/24     192.168.2.200   U     t[237]        GE0/0/1        0x0
display ip routing table
Destination/Mask    Proto   Pre  Cost      Flags NextHop         Interface
      127.0.0.0/8   Direct  0    0           D   127.0.0.1       InLoopBack0
      127.0.0.1/32  Direct  0    0           D   127.0.0.1       InLoopBack0
127.255.255.255/32  Direct  0    0           D   127.0.0.1       InLoopBack0
    192.168.1.0/24  Direct  0    0           D   192.168.1.200   GigabitEthernet0/0/0
  192.168.1.200/32  Direct  0    0           D   127.0.0.1       GigabitEthernet0/0/0
  192.168.1.255/32  Direct  0    0           D   127.0.0.1       GigabitEthernet0/0/0
    192.168.2.0/24  Direct  0    0           D   192.168.2.200   GigabitEthernet0/0/1
  192.168.2.200/32  Direct  0    0           D   127.0.0.1       GigabitEthernet0/0/1
  192.168.2.255/32  Direct  0    0           D   127.0.0.1       GigabitEthernet0/0/1
255.255.255.255/32  Direct  0    0           D   127.0.0.1       InLoopBack0
```
- **FIB 表**:
    
    - 直接用于数据包转发，包含具体的下一跳和出接口信息。
    - 由路由表生成，主要用于高效的数据包处理。
- **路由表**:
    
    - 维护网络拓扑的完整视图，包含所有路由信息。
    - 用于路由选择，决定最佳路径。

在你的例子中，两者包含了相同的路由条目，但显示的细节和用途有所不同。FIB 表更注重数据包转发的效率，而路由表更关注路由信息的管理和维护。

### RIB (Route Information Base)

**全称**: Route Information Base，路由信息库
```
display ip routing-table
```
### FIB (Forwarding Information Base)

**全称**: Forwarding Information Base，转发信息库
```
display fib
```

RIB和FIB在路由器中扮演着互补的角色，RIB负责收集和维护所有路由信息，而FIB负责快速转发决策，确保数据包能以最高效的方式在网络中传递。
# 例题 RIB和FIB
单选题79/1247、关于RIB与FIB说法错误的是？
FIB直接指导报文的转发
**RIB中的下一跳都是对端直连邻居接口的IP地址**
FIB由RIB生成
RIB不直接指导报文的转发

单选题501/1247、以下关于RIB与FIB的描述，错误的是哪一项？
FIB由 RIB生成
**RIB中的下一跳都是对端直连邻居接口的IP地址**
FIB直接指导报文的转发
RIB不直接指导报文的转发

<u>- **RIB 更新**：当 OSPF 路由协议学到一条新路由（例如，网络 192.168.1.0/24），该路由信息被添加到 RIB 中。
- **最佳路径选择**：RIB 中可能有多条到 192.168.1.0/24 的路由条目（例如，通过不同的下一跳），RIB 根据 OSPF 的度量值选择最佳路径。
- **FIB 更新**：选择的最佳路径（例如，通过下一跳 10.0.0.1）被安装到 FIB 中。
- **数据包转发**：当数据包到达路由器并需要转发到 192.168.1.0/24 网络时，路由器在 FIB 中查找该目的地的条目，并将数据包转发到对应的下一跳接口。</u>

# 知识
在RIB中，静态路由写的是什么，下一跳IP地址就是什么。但是在FIB中，就是经过递归查询之后的最终的下一跳IP地址了。

# 判断题------------------
判断题906/1247、路由器根据转发表直接指导数据的转发。
**错误**
<u>先通过路由表（RIB）下发至转发表（FIB），再进行数据转发</u>


判断题1125/1247、转发表项存放在主控板时，报文进入接口板之后，可直接在接口板完成报文的查询与转发，从而提高报文转发效率。
**错误**
<u>转发表项存放在主控板上，报文进入接口板之后，接口板从主控板处查询表项。  
每次转发都需要与主控板进行通信，转发效率低，报文时延增加，对高速率接口板而言转发速率严重下跌。</u>

管理员在查看设备 的RIB表的，其中OSPF外部路由在Protocol字段应标记为（）。（英文缩写，全大写）
**O_AES**
<u>OSPF内部路由显示为OSPF，5LSA生成的路由为O_ASE，7LSA生成的路由为O_NSSA</u>