
|     |               |      |
| --- | ------------- | ---- |
| `0` | `/dev/stdin`  | 标准输入 |
| `1` | `/dev/stdout` | 标准输出 |
| `2` | `/dev/stderr` | 标准错误 |
# 单行写入
```
覆盖写入
echo 'hi' > test
追加写入
echo 'hi' >> test
```
# 多行写入
## 示例1
```
mkdir Documents
cat > Documents/test.c <<EOF
```
写入内容示例， - `<<EOF`定义了一个heredoc，它告诉shell继续读取输入直到遇到`EOF`（End-Of-File）为止。heredoc是一种在脚本中插入多行文本的有效方法。
```
#include <stdio.h> 
int main() 
{ 
printf("hello world\n"); return 0;
}
EOF
```
## 示例2
```
>覆盖 >>追加
```
![image-20247114836360.png](3可以放入网站的笔记/Linux下重定向的进阶用法/Linux下重定向的进阶用法/image-20247114836360.png)
# 标准错误重定向
即错误的信息，像是没有那个文件或者目录，是不会呗重定向出来的默认情况下.
![image-20247122213668.png](3可以放入网站的笔记/Linux下重定向的进阶用法/Linux下重定向的进阶用法/image-20247122213668.png)
解决方法
```
#只用bash提供的特殊的重定向符号"&"将标准错误和标准输出同时重定向到文件
cat 111 &> 333
cat 111 222 &> 333
```
![image-20247122339735.png](3可以放入网站的笔记/Linux下重定向的进阶用法/Linux下重定向的进阶用法/image-20247122339735.png)
```
#这个也行，不过不咋用，将标准错误重定向到标准输出，再将标准输出重定向到文件，注意要将重定向到文件写到前面
cat 123 456 > 333 2>&1
```
![image-20247122559682.png](3可以放入网站的笔记/Linux下重定向的进阶用法/Linux下重定向的进阶用法/image-20247122559682.png)
# | tee的使用
除了需要将输出重定向到文件，也需要将信息打印在终端
正常重定向
![image-2024712291719.png](3可以放入网站的笔记/Linux下重定向的进阶用法/Linux下重定向的进阶用法/image-2024712291719.png)
使用tee的
![image-20247122923450.png](3可以放入网站的笔记/Linux下重定向的进阶用法/Linux下重定向的进阶用法/image-20247122923450.png)
```
#追加
| tee -a  
```
![image-20247123210538.png](3可以放入网站的笔记/Linux下重定向的进阶用法/Linux下重定向的进阶用法/image-20247123210538.png)
# 永久重定向 感觉不好用
你应该可以看出我们前面的重定向操作都只是临时性的，即只对当前命令有效，那如何做到永久有效呢，比如在一个脚本中，你需要某一部分的命令的输出全部进行重定向，难道要让你在每个命令上面加上临时重定向的操作嘛？当然不需要，我们可以使用 `exec` 命令实现永久重定向。`exec` 命令的作用是使用指定的命令替换当前的 Shell，即使用一个进程替换当前进程，或者指定新的重定向：
```
# 先开启一个子 Shell zsh 
# 使用exec替换当前进程的重定向，将标准输出重定向到一个文件 
exec 1>somefile 
# 后面你执行的命令的输出都将被重定向到文件中，直到你退出当前子shell，或取消exec的重定向（后面将告诉你怎么做） 
ls 
exit
cat somefile
# 结束的命令
exec 1>/dev/tty
```
![image-20247123829982.png](3可以放入网站的笔记/Linux下重定向的进阶用法/Linux下重定向的进阶用法/image-20247123829982.png)
# 
在 Linux 系统中，`/dev/fd` 是一个特殊的目录，用于访问文件描述符。文件描述符是用于标识打开的文件、管道或网络连接等的整数标识符。在 Unix 和 Linux 系统中，标准的文件描述符有：
- `0`：标准输入（stdin）
- `1`：标准输出（stdout）
- `2`：标准错误（stderr）
-  `0` 是标准输入（stdin），通常连接到键盘输入。
- `1` 是标准输出（stdout），通常连接到终端（显示器）。
- `2` 是标准错误（stderr），通常也连接到终端。
```
zsh
exec 3>somefile
# 先进入目录，再查看，否则你可能不能得到正确的结果，然后再回到上一次的目录
cd /dev/fd/;ls -Al;cd -
# 注意下面的命令>与&之间不应该有空格，如果有空格则会出错 
echo "this is test" >&3 cat somefile
exit
```
如何关闭
```
exec 3>&- cd /dev/fd;ls -Al;cd -
```

```
利用 `/dev/null` 屏蔽命令的输出：
cat Documents/test.c 1>/dev/null 2>&1
上面这样的操作将使你得不到任何输出结果。
```